---
import CornellNote from '../../layouts/CornellNote.astro';

export async function getStaticPaths() {
  const articles = await Astro.glob('../../content/articles/*.md');
  
  return articles.map((article) => ({
    params: { 
      slug: article.file.split('/').pop()?.replace('.md', '') 
    },
    props: { article },
  }));
}

const { article } = Astro.props;
const { title, published, updated, summary } = article.frontmatter;
const { Content } = article;
---

<CornellNote title={title} published={published} updated={updated} summary={summary}>
  <Content />
</CornellNote>
